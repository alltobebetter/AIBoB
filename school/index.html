<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我的MDUI网页</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdui/1.0.2/css/mdui.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mdui/1.0.2/js/mdui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.0.2/marked.min.js"></script>
    <style>
        .mdui-theme-layout-dark {
            background-color: #303030;
            color: #fff;
        }
        .mdui-theme-layout-dark .mdui-card {
            background-color: #424242;
        }
        .content-container {
            padding-top: 76px;
            transition: margin-left 0.3s ease;
        }
        @media (min-width: 1024px) {
            .mdui-drawer-open + .mdui-container {
                margin-left: 240px;
            }
        }
    </style>
</head>
<body class="mdui-theme-primary-pink mdui-theme-accent-pink">
    <div class="mdui-drawer mdui-drawer-close" id="main-drawer">
        <ul class="mdui-list">
            <li class="mdui-list-item mdui-ripple" onclick="loadContent('home')">
                <i class="mdui-list-item-icon mdui-icon material-icons">home</i>
                <div class="mdui-list-item-content">首页</div>
            </li>
            <li class="mdui-list-item mdui-ripple" onclick="loadContent('docs')">
                <i class="mdui-list-item-icon mdui-icon material-icons">description</i>
                <div class="mdui-list-item-content">文档</div>
            </li>
            <li class="mdui-list-item mdui-ripple" onclick="loadContent('about')">
                <i class="mdui-list-item-icon mdui-icon material-icons">info</i>
                <div class="mdui-list-item-content">关于</div>
            </li>
            <li class="mdui-list-item mdui-ripple" onclick="loadContent('settings')">
                <i class="mdui-list-item-icon mdui-icon material-icons">settings</i>
                <div class="mdui-list-item-content">设置</div>
            </li>
        </ul>
    </div>

    <div class="mdui-appbar mdui-appbar-fixed">
        <div class="mdui-toolbar mdui-color-theme">
            <a href="javascript:;" class="mdui-btn mdui-btn-icon" mdui-drawer="{target: '#main-drawer', swipe: true}">
                <i class="mdui-icon material-icons">menu</i>
            </a>
            <span class="mdui-typo-title">我的MDUI网页</span>
            <div class="mdui-toolbar-spacer"></div>
            <button class="mdui-btn mdui-btn-icon" id="toggle-theme">
                <i class="mdui-icon material-icons">brightness_4</i>
            </button>
        </div>
    </div>

    <div class="mdui-container content-container">
        <div class="mdui-card">
            <div class="mdui-card-primary">
                <div class="mdui-card-primary-title" id="content-title">Markdown 内容</div>
            </div>
            <div class="mdui-card-content" id="content-area">
                <!-- 内容将在这里显示 -->
            </div>
        </div>
    </div>

    <script>
        // 初始化抽屉菜单
        var drawer = new mdui.Drawer('#main-drawer', {overlay: true});

        // 切换日/夜间模式
        document.getElementById('toggle-theme').addEventListener('click', function() {
            document.body.classList.toggle('mdui-theme-layout-dark');
        });

        // 加载内容函数
        function loadContent(page) {
            var contentTitle = document.getElementById('content-title');
            var contentArea = document.getElementById('content-area');
            
            switch(page) {
                case 'home':
                    contentTitle.textContent = '首页';
                    contentArea.innerHTML = '<p>欢迎来到首页！这里可以放置主要内容。</p>';
                    break;
                case 'docs':
                    contentTitle.textContent = '文档';
                    contentArea.innerHTML = '<p>这里是文档页面。您可以在此放置项目文档或说明。</p>';
                    break;
                case 'about':
                    contentTitle.textContent = '关于';
                    contentArea.innerHTML = '<p>关于页面。在这里可以介绍您的项目或组织。</p>';
                    break;
                case 'settings':
                    contentTitle.textContent = '设置';
                    contentArea.innerHTML = '<p>设置页面。这里可以放置各种设置选项。</p>';
                    break;
                default:
                    loadMarkdown();
            }
            
            // 在移动设备上，加载内容后关闭抽屉
            if (window.innerWidth < 1024) {
                drawer.close();
            }
        }

        // 加载Markdown内容
        function loadMarkdown() {
            fetch('sub.md')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('HTTP error ' + response.status);
                    }
                    return response.text();
                })
                .then(text => {
                    document.getElementById('content-title').textContent = 'Markdown 内容';
                    document.getElementById('content-area').innerHTML = marked.parse(text);
                })
                .catch(error => {
                    console.error('加载 Markdown 文件时出错:', error);
                    document.getElementById('content-area').innerHTML = '加载内容时出错。请确保 sub.md 文件存在且可访问。';
                });
        }

        // 初始加载Markdown内容
        loadMarkdown();
    </script>
</body>
</html>
